<script>
(function () {
  const MOUSE_LEFT_BUTTON = 0;

  Polymer({
    is: 'app-link',

    extends: 'a',

    listeners: {
      'click': 'onClick',
      'tap': 'onTap'
    },

    isSpecialClick: function(e) {
      return (e.ctrlKey || e.metaKey || e.button !== MOUSE_LEFT_BUTTON);
    },

    onClick: function(e) {
      if (this.isSpecialClick(e)) return;

      this.fire('app-link-click', {path: this.path});
      e.preventDefault();
      e.stopPropagation();
    },

    onTap: function(e) {
      if (this.isSpecialClick(e)) return;

      e.preventDefault();
      e.stopPropagation();
    }
  });
})();
</script>
